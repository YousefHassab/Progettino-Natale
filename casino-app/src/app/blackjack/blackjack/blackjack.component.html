<div class="blackjack-vip-table">
  <div class="table-border">
    <button (click)="goBack()" class="btn-leave">⬅ ESCI DAL TAVOLO</button>

    <div class="dealer-space">
      <div class="dealer-hand-info">
        <span class="label">BANCO</span>
        <span class="score-badge">{{dealerScore}}</span>
      </div>
      <div class="cards-display">
        <div class="playing-card" *ngFor="let card of dealerCards; let i = index" 
             [attr.data-suit]="card.suit" [class.hidden-card]="!gameOver && !dealerPlaying && i > 0">
          <div class="card-corner top">
            <span>{{card.value}}</span>
            <span>{{card.suit}}</span>
          </div>
          <div class="card-center">{{card.suit}}</div>
          <div class="card-corner bottom">
            <span>{{card.value}}</span>
            <span>{{card.suit}}</span>
          </div>
        </div>
      </div>
    </div>

    <div class="table-center">
      <div class="result-overlay" *ngIf="gameOver">
        <h1>{{message}}</h1>
      </div>
      <div class="bet-circle">
        <span class="bet-label">PUNTATA</span>
        <span class="bet-value">{{currentBet}}€</span>
      </div>
    </div>

    <div class="player-space">
      <div class="cards-display">
        <div class="playing-card" *ngFor="let card of playerCards" [attr.data-suit]="card.suit">
          <div class="card-corner top">
            <span>{{card.value}}</span>
            <span>{{card.suit}}</span>
          </div>
          <div class="card-center">{{card.suit}}</div>
          <div class="card-corner bottom">
            <span>{{card.value}}</span>
            <span>{{card.suit}}</span>
          </div>
        </div>
      </div>
      <div class="player-hand-info">
        <span class="label">IL TUO PUNTEGGIO</span>
        <span class="score-badge" [class.bust]="playerScore > 21">{{playerScore}}</span>
      </div>
    </div>
  </div>

  <footer class="action-bar">
    <div class="balance-info">
      <small>BILANCIO</small>
      <div class="money">{{balance | number:'1.0-0'}}€</div>
    </div>

    <div class="buttons-group">
      <button class="btn-vip btn-gold" (click)="startGame()" *ngIf="gameOver">NUOVA MANO</button>
      <button class="btn-vip" (click)="hit()" [disabled]="gameOver">CARTA</button>
      <button class="btn-vip" (click)="stand()" [disabled]="gameOver">STAI</button>
      <button class="btn-vip btn-double" (click)="doubleDown()" [disabled]="gameOver || playerCards.length !== 2">RADDOPPIA</button>
    </div>
  </footer>
</div>
